{"version":3,"sources":["webpack:///webpack/bootstrap 7702401cd6953e08abc5","webpack:///./app/app.js","webpack:///./app/js/Game.js","webpack:///./app/js/Renderer.js","webpack:///./app/js/KeyControl.js","webpack:///./app/js/ControllableShip.js","webpack:///./app/js/Ship.js","webpack:///./app/js/Sprite.js","webpack:///./app/js/Utils.js","webpack:///./~/sat/SAT.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./app/js/ship_modules/Engine.js","webpack:///./app/js/ship_modules/ShipModule.js","webpack:///./app/js/Constants.js","webpack:///./app/js/ship_modules/ImageLoader.js","webpack:///./app/js/ship_modules/engine.svg","webpack:///./app/js/ship_modules/Core.js","webpack:///./app/js/ship_modules/core.svg","webpack:///./app/js/ship_modules/Armor.js","webpack:///./app/js/ship_modules/box.svg","webpack:///./app/js/ship_modules/Wing.js","webpack:///./app/js/ship_modules/wing_right.svg","webpack:///./app/js/ship_modules/wing_left.svg","webpack:///./app/js/ship_modules/gun/Gun.js","webpack:///./app/js/ship_modules/gun/Bullet.js","webpack:///./app/js/ship_modules/gun/gun_base.svg","webpack:///./app/js/ship_modules/gun/gun_turret.svg","webpack:///./app/js/ship_modules/beam/BeamWeapon.js","webpack:///./app/js/ship_modules/beam/Beam.js","webpack:///./app/js/ship_modules/beam/gun_base.svg","webpack:///./app/js/ship_modules/beam/gun_turret.svg","webpack:///./app/js/DummyShip.js","webpack:///./app/js/Keys.js","webpack:///./app/js/ship_picker/ShipPicker.js","webpack:///./app/js/ship_picker/PickableShip.js"],"names":[],"mappings":"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EAAyB,EAAzB,CAAP;AACD,E;;;;;;mECrCD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,iB;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA,cAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,gBAAgB;AAC7B;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA,kBAAiB,QAAQ,OAAO,8BAA8B;;AAE9D;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA,kBAAiB,OAAO,OAAO,mBAAmB;;AAElD;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa,eAAe;AAC5B,cAAa,OAAO;AACpB,cAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA,uBAAsB,WAAW;AACjC,uBAAsB,WAAW;AACjC;AACA,qBAAoB;AACpB;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,eAAe;AAC5B,cAAa,eAAe;AAC5B,cAAa,OAAO;AACpB;AACA,cAAa,UAAU;AACvB;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+B;AACA,6B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,qC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,Q;AACA;AACA,6B;AACA,2B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,0BAAyB,4BAA4B;AACrD;AACA,WAAU,6BAA6B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,UAAU;AACvB;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,QAAQ;AACrB,cAAa,OAAO;AACpB,cAAa,UAAU;AACvB;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;AACA;AACA,mC;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;AACA,kC;AACA;AACA,0B;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;AACA,kC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+B;AACA,0B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,cAAa,UAAU;AACvB;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,QAAQ;AACrB,cAAa,QAAQ;AACrB,cAAa,UAAU;AACvB;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7702401cd6953e08abc5\n **/","import Game from './js/Game';\nimport ShipPicker from './js/ship_picker/ShipPicker';\n\nvar canvas = document.getElementById('game');\n\n\nconst SCHEMS = [\n  [\n    \"WGB\",\n    \" XE\"\n  ],\n  [\n    \"  GGG  \",\n    \" GWSWG \",\n    \"SEWXWES\",\n    \"  EEE  \"\n  ],\n  [\n    \"  G\",\n    \" GGG\",\n    \"GGGGG\",\n    \"WWXWW  \",\n    \"EEEEE  \"\n  ],\n  [\n    \"     SSS        \",\n    \"  SSSGGGSSS     \",\n    \" SGGGGGGGGGS    \",\n    \"SWWGGGGGGGWWS   \",\n    \"SWWWWWXWWWWWS   \",\n    \"SWW WWWWW WWS   \",\n    \"EEWSSWWWSSWEE   \",\n    \"  EEESSSEEE     \",\n    \"     EEE        \"\n  ],\n  [\n    \"WBBBW\",\n    \" EXE\"\n  ],\n  [\n    \"WBW\",\n    \"EXE\"\n  ],  [\n    \"     SSS        \",\n    \"  SSSBBBSSS     \",\n    \" SGGGBBBGGGS    \",\n    \"SWWGGBBBGGWWS   \",\n    \"SWWWWWXWWWWWS   \",\n    \"SWW WWWWW WWS   \",\n    \"EEWSSWWWSSWEE   \",\n    \"  EEESSSEEE     \",\n    \"     EEE        \"\n  ],\n];\n\nnew ShipPicker(canvas,SCHEMS,\"Select ship for Player 1\").pickShips((schem)=>{\n  var s1 = schem;\n  new ShipPicker(canvas,SCHEMS,\"Select ship for Player 2\").pickShips((schem2)=>{\n    var s2 = schem2;\n\n    const game = new Game(canvas,[s1], [s2]);\n    game.run();\n\n  })\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/app.js\n **/","import Renderer from \"./Renderer\";\nimport KeyControl from \"./KeyControl\";\nimport ControllableShip from \"./ControllableShip\";\nimport DummyShip from \"./DummyShip\";\n\nimport SAT from \"sat\";\n\nconst Response = SAT.Response;\nconst V = SAT.Vector;\nconst B = SAT.Box;\n\n\nimport { isSpritesColliding } from \"./Utils\"\n\nimport {KEY_MAP} from \"./Keys\";\n\nconst LAYERS = {\n  BACKGROUND:[],\n  UNDER_SHIPS:[],\n  SHIPS:[],\n  SHOTS:[],\n  OVERLAY:[],\n  UI:[]\n};\n\nconst PLAYER1_CONTROLS = {\n  ACCELERATE: KEY_MAP.W,\n  TURN_CLOCKWISE: KEY_MAP.D,\n  TURN_COUNTERCLOCKWISE: KEY_MAP.S,\n  FIRE_PRIMARY: KEY_MAP.C\n};\n\nconst PLAYER2_CONTROLS = {\n  ACCELERATE: KEY_MAP.UP,\n  TURN_CLOCKWISE: KEY_MAP.RIGHT,\n  TURN_COUNTERCLOCKWISE: KEY_MAP.LEFT,\n  FIRE_PRIMARY: KEY_MAP.SHIFT\n};\n\nexport default class Game {\n\n  constructor(canvas, p1_ships, p2_ships) {\n    this.canvas = canvas;\n    canvas.focus();\n    this._keyControl = new KeyControl(this);\n\n    this.p1_ships = p1_ships;\n    this.p2_ships = p2_ships;\n\n    this.renderer = new Renderer(this);\n  }\n\n  get keyControl(){\n    return this._keyControl;\n  }\n\n  init(){\n    this.globalTime = 0;\n\n\n\n\n    const AI_SCHEMATIC = [\n      \" WXG \",\n      \"  E \"\n    ];\n\n    this.loadNextP1Ship();\n    this.loadNextP2Ship();\n  }\n\n  loadNextP1Ship(){\n    this.p1 = new ControllableShip(\n      this,\n      Math.floor(Math.random()*this.renderer.screenWidth),\n      Math.floor(Math.random()*this.renderer.screenHeight),\n      0,\n      this.p1_ships.pop(),\n      PLAYER1_CONTROLS,\n      \"#cc9900\"\n    );\n\n    LAYERS.SHIPS.push(this.p1);\n  }\n  loadNextP2Ship(){\n    this.p2 = new ControllableShip(\n      this,\n      Math.floor(Math.random()*this.renderer.screenWidth),\n      Math.floor(Math.random()*this.renderer.screenHeight),\n      0,\n      this.p2_ships.pop(),\n      PLAYER2_CONTROLS,\n      \"#0099cc\"\n    );\n    LAYERS.SHIPS.push(this.p2);\n  }\n\n  tickLayer(sprites){\n    sprites.forEach(\n      (s)=>s.tick()\n    );\n  }\n\n  removeFromLayer(toRemove, layer=\"SHOTS\"){\n    var i = LAYERS[layer].indexOf(toRemove);\n    LAYERS[layer].splice(i,1);\n  }\n\n  removeShip(toRemove){\n    var i = LAYERS.SHIPS.indexOf(toRemove);\n    LAYERS.SHIPS.splice(i,1);\n\n    if(LAYERS.SHIPS.length == 1){\n      alert(\"Winner!!\")\n    }\n  }\n  handleCollisions(){\n    LAYERS.SHIPS.forEach((ship)=>{\n      LAYERS.SHOTS.concat(LAYERS.UNDER_SHIPS).forEach((shot)=>{\n        if(isSpritesColliding(ship,shot) && shot.gun.ship != ship){\n\n          var closestCollison = 1000000;\n          var collidingModule = undefined;\n\n          ship.modules.forEach((module)=>{\n            var lengthToCollision = new V(module.pivotX,module.pivotY).sub(new V(shot.pivotX,shot.pivotY)).len2();\n\n            if(isSpritesColliding(module,shot) && lengthToCollision < closestCollison){\n              collidingModule = module;\n            }\n\n          });\n\n          if(collidingModule !== undefined){\n            shot.collide(collidingModule);\n            collidingModule.collide(shot);\n          }\n\n        }\n      })\n    })\n  };\n\n  tick(){\n    this.globalTime ++;\n\n    this.tickLayer(LAYERS.BACKGROUND);\n    this.tickLayer(LAYERS.UNDER_SHIPS);\n    this.tickLayer(LAYERS.SHIPS);\n    this.tickLayer(LAYERS.SHOTS);\n    this.tickLayer(LAYERS.OVERLAY);\n    this.tickLayer(LAYERS.UI);\n\n    var collisions = this.handleCollisions();\n  }\n\n  draw(){\n    this.renderer.render([\n      LAYERS.UNDER_SHIPS,\n      LAYERS.SHIPS,\n      LAYERS.SHOTS\n    ]);\n  }\n  run(){\n    this.init();\n\n    setInterval(function(){\n      this.tick();\n    }.bind(this),1000/60); //TODO: replace with window.requestAnimationFrame(callback) ?\n\n\n    this.startAnimLoop();\n\n  }\n\n  startAnimLoop(){\n    var that = this;\n    window.requestAnimationFrame(function(){\n      that.draw();\n      that.startAnimLoop();\n    })\n  }\n\n  spawn(sprite, layer = \"SHOTS\"){\n    LAYERS[layer].push(sprite);\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Game.js\n **/","export default class Renderer {\n  constructor(game){\n    this.game = game;\n    const canvas = game.canvas;\n    this.canvas = canvas;\n    this.screen = canvas.getContext('2d');\n    this.canvas.style.cursor = \"none\";\n    this.screenWidth = canvas.getAttribute(\"width\");\n    this.screenHeight = canvas.getAttribute(\"height\");\n  }\n\n  render(sprite_lists){\n    this.clearScreen();\n\n\n\n    sprite_lists.forEach((sprites)=>\n      sprites.forEach((sprite)=> sprite.draw(this.screen))\n    );\n  }\n\n  clearScreen(){\n    this.screen.fillStyle = \"rgba(234,234,234,0.55)\";\n    this.screen.fillRect(0,0,this.screenWidth, this.screenHeight);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Renderer.js\n **/","export default class KeyControl {\n  constructor(game){\n    this.canvas = game.canvas;\n\n    this.keyCallbacks = {};\n    this.keyUpCallbacks = {};\n\n    this.canvas.onkeydown = this.triggerKeyDownCallbacks.bind(this);\n\n    this.canvas.onkeyup = function(e){\n      e.preventDefault();\n      var callbacks = this.keyUpCallbacks[e.keyCode];\n      if(callbacks){\n        for (var cb = 0; cb < callbacks.length; cb++) {\n          callbacks[cb]();\n        }\n      }\n    }.bind(this);\n  }\n\n  triggerKeyDownCallbacks(e){\n    e.preventDefault();\n    var keyCode = e.keyCode;\n    // console.log(keyCode);\n    var callbacks = this.keyCallbacks[keyCode];\n    if(callbacks){\n      for (var cb = 0; cb < callbacks.length; cb++) {\n        callbacks[cb]();\n      }\n    }\n\n  }\n\n  onKeyDown(key, callback) {\n    if(this.keyCallbacks[key] === undefined){\n      this.keyCallbacks[key] = [];\n    }\n    this.keyCallbacks[key].push(callback);\n  }\n\n  onKeyUp(key, callback) {\n    if(this.keyUpCallbacks[key] === undefined){\n      this.keyUpCallbacks[key] = [];\n    }\n    this.keyUpCallbacks[key].push(callback);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/KeyControl.js\n **/","import Ship from \"./Ship\"\n\nexport default class ControllableShip extends Ship {\n\n  constructor(game, x, y , angle, schematic, keyBindings,color) {\n    super(game, x,y,angle, schematic,color);\n    this.keyBindings = keyBindings;\n\n    this.bindKeys(keyBindings);\n  }\n\n  bindKeys(keyBindings) {\n    this.game.keyControl.onKeyDown(keyBindings.ACCELERATE, ()=> this.accelerating = true);\n    this.game.keyControl.onKeyDown(keyBindings.TURN_CLOCKWISE, ()=> this._turningCW = true);\n    this.game.keyControl.onKeyDown(keyBindings.TURN_COUNTERCLOCKWISE, ()=> this._turningCCW = true);\n    this.game.keyControl.onKeyDown(keyBindings.FIRE_PRIMARY, ()=> this._firingPrimary = true);\n\n    this.game.keyControl.onKeyUp(keyBindings.ACCELERATE, ()=> this.accelerating = false);\n    this.game.keyControl.onKeyUp(keyBindings.TURN_CLOCKWISE, ()=> this._turningCW = false);\n    this.game.keyControl.onKeyUp(keyBindings.TURN_COUNTERCLOCKWISE, ()=> this._turningCCW = false);\n    this.game.keyControl.onKeyUp(keyBindings.FIRE_PRIMARY, ()=> this._firingPrimary = false);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ControllableShip.js\n **/","import Sprite from \"./Sprite\";\n\nimport Engine from \"./ship_modules/Engine\";\nimport Core from \"./ship_modules/Core\";\nimport Armor from \"./ship_modules/Armor\";\nimport Wing from \"./ship_modules/Wing\";\nimport Gun from \"./ship_modules/gun/Gun\";\nimport BeamWeapon from \"./ship_modules/beam/BeamWeapon\";\n\nimport {DEGREE, BLOCK_SIZE} from \"./Constants\"\n\nvar _x,_y,_dx,_dy,_width,_height, _angle,_pivotX,_pivotY;\nvar _enginePower, _turnPower, _mass, _cost;\n\nvar _turningCW, _turningCCW, _accelerating, _firingPrimary;\nvar _modules;\n\nconst DRAW_BOUNDING_BOX = false;\n\nexport default class Ship extends Sprite {\n\n  constructor(game, x, y, angle, schematic, color = \"#ff6633\") {\n    super();\n    this.schematic = schematic.filter((row)=>{\n      return !row.match(/^\\s*$/)\n    });\n\n    this.color = color;\n    this.game = game;\n    this._x = x;\n    this._y = y;\n    this._dx = 0;\n    this._dy = 0;\n\n    this._firingPrimary = false;\n\n    this._accelerating = false;\n\n    this._angle = angle;\n\n    this._turningCCW = false;\n    this._turningCW = false;\n\n    this.loadParts();\n  }\n\n  get globalAngle() {\n    return this._angle;\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  get height(){\n    return this._height;\n  }\n\n  get globalX(){\n    return this._x;\n  }\n\n  get globalY(){\n    return this._y\n  }\n\n  get drawParent(){\n    return undefined\n  }\n\n  get pivotX() {\n    return this._pivotX;\n  }\n\n  get pivotY(){\n    return this._pivotY;\n  }\n\n  get x(){\n    return this._x;\n  }\n  get y(){\n    return this._y;\n  }\n\n  get accelerating(){\n    return this._accelerating;\n  }\n\n  set accelerating(isAccelerating){\n    this._accelerating = isAccelerating\n  }\n\n  removeModule(moduleToRemove){\n    for (var y = 0; y < this._modules.length; y++) {\n      var row = this._modules[y];\n      for (var x = 0; x < row.length; x++) {\n        var module = row[x];\n\n        if(module === moduleToRemove){\n          this._modules[y][x] = undefined;\n          this.recalculateAggregateProperties();\n        }\n      }\n    }\n  }\n\n  findPivot() {\n    for (var row = 0; row < this.schematic.length; row++) {\n      var positions = this.schematic[row].split(\"\");\n      for (var pos = 0; pos < positions.length; pos++) {\n        var block = positions[pos];\n        if (block === \"X\") {\n          this._pivotX = pos * BLOCK_SIZE + BLOCK_SIZE / 2;\n          this._pivotY = row * BLOCK_SIZE + BLOCK_SIZE / 2;\n        }\n      }\n    }\n  }\n  loadParts(){\n    this.findPivot();\n\n    this._modules = [];\n\n    for (var row = 0; row < this.schematic.length; row++) {\n      var y = row*BLOCK_SIZE;\n\n      var partsRow = [];\n      this._modules.push(partsRow);\n      var positions = this.schematic[row].split(\"\");\n\n\n      for (var pos = 0; pos < positions.length; pos++) {\n        var x = pos*BLOCK_SIZE;\n\n        var block = positions[pos];\n        if(block === \"E\"){\n          var engine = new Engine(this,x,y);\n          partsRow.push(engine)\n        }else if(block === \"S\"){\n          partsRow.push(new Armor(this,x,y));\n        }else if(block === \"G\"){\n          var gun = new Gun(this,x,y);\n          partsRow.push(gun);\n        }else if(block === \"W\"){\n          partsRow.push(new Wing(this,x,y));\n        }else if(block === \"B\"){\n          partsRow.push(new BeamWeapon(this,x,y));\n        }else if(block === \"X\"){\n\n          partsRow.push(new Core(this,x,y));\n        }else{\n          partsRow.push(undefined);\n        }\n      }\n    }\n\n    this.recalculateAggregateProperties();\n    this.calculateWidthAndHeight();\n  }\n\n\n  get enginePower(){\n    return this._enginePower;\n  }\n  get mass(){\n    return this._mass;\n  }\n  get turnPower(){\n    return this._turnPower;\n  }\n  get cost(){\n    return this._cost;\n  }\n\n  recalculateAggregateProperties() {\n    var allParts = this.modules;\n\n    this._mass = allParts.map((p)=>p.mass).reduce((a, b)=>a + b, 0);\n    this._enginePower = allParts.map((p)=>p.enginePower).reduce((a, b)=>a + b, 0);\n    this._turnPower = allParts.map((p)=>p.turnPower).reduce((a, b)=>a + b, 0);\n    this._cost = allParts.map((p)=>p.cost).reduce((a, b)=>a + b, 0);\n\n    this.modulesThatTick = allParts.filter((p)=>p.tick != undefined)\n  }\n\n\n  calculateWidthAndHeight(){\n    var lowestX=1000;\n    var lowestY=1000;\n    var highestX=-1;\n    var highestY=-1;\n    for (var y = 0; y < this._modules.length; y++) {\n      var row = this._modules[y];\n      for (var x = 0; x < row.length; x++) {\n        var module = row[x];\n        if(module !== undefined){\n          if(x<lowestX){\n            lowestX = x;\n          }\n          if(x>highestX){\n            highestX = x;\n          }\n          if(y<lowestY){\n            lowestY = y;\n          }\n          if(y>highestY){\n            highestY = y;\n          }\n        }\n      }\n    }\n\n    this._width = (highestX-lowestX+1)*BLOCK_SIZE;\n    this._height = (highestY-lowestY+1)*BLOCK_SIZE;\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this._x,this._y);\n    screen.rotate(90*DEGREE);\n    screen.rotate(this._angle);\n\n    screen.translate(-this.pivotX,-this.pivotY);\n\n    for (var row = 0; row < this._modules.length; row++) {\n      var positions = this._modules[row];\n      for (var pos = 0; pos < positions.length; pos++) {\n        var block = positions[pos];\n        if(block != undefined){\n          block.draw(screen);\n        }\n      }\n    }\n    screen.restore();\n\n    if(DRAW_BOUNDING_BOX){\n      this.drawCollisionPoly(screen);\n    }\n  }\n\n  get modules(){\n    return [].concat.apply([], this._modules).filter((p)=> p != undefined);\n  }\n\n  collide(collidedWith){}\n\n  get movementAngleRadians(){\n    var radians = Math.atan2(this._dy,this._dx);\n    return radians;\n  }\n\n  get drag(){\n    return this.physicsDrag;\n  }\n\n  get physicsDrag() {\n    const fluidDensity = 0.2;\n    const frontalArea = this.mass;\n    const speed = Math.sqrt(Math.pow(this._dx,2)+Math.pow(this._dy,2));\n    const dragForce = 0.05*fluidDensity*frontalArea*Math.pow(speed,2);\n\n    return dragForce/this.mass;\n  }\n\n  get acceleration() {\n    return this.enginePower / this.mass;\n  }\n\n  get turnSpeed() {\n    return Math.pow(this.turnPower,2) / Math.pow(this.mass,2);\n  }\n  get angle() {\n    return this._angle;\n  }\n\n  tickModules(){\n    this.modulesThatTick.forEach((m)=>m.tick());\n  }\n\n  tick() {\n    this.tickModules();\n\n    this.calculateNewAngle();\n    this.calculateNewSpeeds();\n    this.moveAccordingToSpeed();\n\n    this.wrapAroundWorld();\n  }\n\n  moveAccordingToSpeed(){\n    this._x += this._dx;\n    this._y += this._dy;\n  }\n\n  wrapAroundWorld(){\n    var cw = this.game.canvas.getAttribute(\"width\");\n    var ch = this.game.canvas.getAttribute(\"height\");\n    if(this._x < 0){\n      this._x = cw - this._x;\n    }else if(this._x > cw){\n      this._x = this._x - cw;\n    }\n    if(this._y < 0){\n      this._y = ch - this._y;\n    }else if(this._y > ch){\n      this._y = this._y - ch;\n    }\n  }\n\n  calculateNewAngle(){\n    if(this._turningCCW){\n      this._angle -= this.turnSpeed ;\n    }\n    if(this._turningCW){\n      this._angle += this.turnSpeed ;\n    }\n  }\n\n  calculateNewSpeeds(){\n    if(this.accelerating ){\n      var accX = Math.cos(this._angle)*this.acceleration;\n      this._dx = this._dx + accX;\n\n      var accY = Math.sin(this._angle)*this.acceleration;\n      this._dy = this._dy + accY;\n    }\n\n    var breakX = Math.cos(this.movementAngleRadians)*this.drag;\n    this._dx = this._dx - breakX;\n\n    var breakY = Math.sin(this.movementAngleRadians)*this.drag;\n    this._dy = this._dy - breakY;\n\n    if(this.speed < 0.4 && !this.accelerating){\n      this._dx = 0;\n      this._dy = 0;\n    }\n  }\n\n  get speed() {\n    return Math.sqrt(Math.pow(this._dx,2)+Math.pow(this._dy,2));\n  }\n\n  die(){\n    console.log(\"Ship destroyed!\");\n    this.game.removeShip(this);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Ship.js\n **/","import {boundingBox} from \"./Utils\"\n\nexport default class Sprite {\n\n\n  draw(screen){};\n  tick(){};\n  get width(){};\n  get height(){};\n  get globalX(){};\n  get globalY(){};\n  get globalAngle(){};\n  get drawParent(){};\n\n  collide(){}\n\n  get pivotX(){\n    return this.width/2;\n  }\n\n  get pivotY(){\n    return this.height/2;\n  }\n\n  get collisionPoly() {\n    return boundingBox(this);\n  }\n\n  drawCollisionPoly(screen){\n    const poly = this.collisionPoly;\n    screen.beginPath();\n\n    if(poly.points[0]) {\n      poly.points.forEach((p)=> {\n        screen.lineTo(p.x, p.y)\n      });\n    }else{\n      console.log(poly);\n      screen.lineTo(0,0);\n      screen.lineTo(poly.points.x, poly.points.y);\n    }\n    screen.closePath();\n    screen.strokeStyle = \"blue\";\n    screen.stroke();\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Sprite.js\n **/","import SAT from \"sat\";\n\nconst Response = SAT.Response;\nconst V = SAT.Vector;\nconst B = SAT.Box;\n\n\nexport function boundingBox(sprite) {\n\n  if(sprite.width === undefined) throw \"No width: \"+sprite.constructor.name;\n  if(sprite.height === undefined) throw \"No height!\"+sprite.constructor.name;\n  if(sprite.pivotX === undefined) throw \"No pivotX!\"+sprite.constructor.name;\n  if(sprite.pivotY === undefined) throw \"No pivotY!\"+sprite.constructor.name;\n  if(sprite.globalAngle === undefined) throw \"No global angle!\"+sprite.constructor.name;\n  if(sprite.globalX === undefined) throw \"No globalX!\"+sprite.constructor.name;\n  if(sprite.globalY === undefined) throw \"No globalY!\"+sprite.constructor.name;\n\n  const bbox = new B(new V(0,0), sprite.width,sprite.height).toPolygon();\n\n  bbox.translate(-sprite.pivotX, -sprite.pivotY);\n  bbox.rotate(sprite.globalAngle + Math.PI/2);\n  bbox.translate(sprite.globalX,sprite.globalY);\n\n  return bbox\n}\n\nexport function isSpritesColliding(s1, s2){\n  if(s1 === s2) return false;\n  var isColliding = SAT.testPolygonPolygon(s1.collisionPoly,s2.collisionPoly);\n  return isColliding;\n}\n\nexport function isPointInSprite(x,y,sprite){\n  var bb = boundingBox(sprite);\n  var point = new V(x,y);\n\n  return SAT.pointInPolygon(point,bb);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Utils.js\n **/","// Version 0.5.0 - Copyright 2012 - 2015 -  Jim Riecken <jimr@jimr.ca>\n//\n// Released under the MIT License - https://github.com/jriecken/sat-js\n//\n// A simple library for determining intersections of circles and\n// polygons using the Separating Axis Theorem.\n/** @preserve SAT.js - Version 0.5.0 - Copyright 2012 - 2015 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */\n\n/*global define: false, module: false*/\n/*jshint shadow:true, sub:true, forin:true, noarg:true, noempty:true, \n  eqeqeq:true, bitwise:true, strict:true, undef:true, \n  curly:true, browser:true */\n\n// Create a UMD wrapper for SAT. Works in:\n//\n//  - Plain browser via global SAT variable\n//  - AMD loader (like require.js)\n//  - Node.js\n//\n// The quoted properties all over the place are used so that the Closure Compiler\n// does not mangle the exposed API in advanced mode.\n/**\n * @param {*} root - The global scope\n * @param {Function} factory - Factory that creates SAT module\n */\n(function (root, factory) {\n  \"use strict\";\n  if (typeof define === 'function' && define['amd']) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module['exports'] = factory();\n  } else {\n    root['SAT'] = factory();\n  }\n}(this, function () {\n  \"use strict\";\n\n  var SAT = {};\n\n  //\n  // ## Vector\n  //\n  // Represents a vector in two dimensions with `x` and `y` properties.\n\n\n  // Create a new Vector, optionally passing in the `x` and `y` coordinates. If\n  // a coordinate is not specified, it will be set to `0`\n  /** \n   * @param {?number=} x The x position.\n   * @param {?number=} y The y position.\n   * @constructor\n   */\n  function Vector(x, y) {\n    this['x'] = x || 0;\n    this['y'] = y || 0;\n  }\n  SAT['Vector'] = Vector;\n  // Alias `Vector` as `V`\n  SAT['V'] = Vector;\n\n\n  // Copy the values of another Vector into this one.\n  /**\n   * @param {Vector} other The other Vector.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['copy'] = Vector.prototype.copy = function(other) {\n    this['x'] = other['x'];\n    this['y'] = other['y'];\n    return this;\n  };\n\n  // Create a new vector with the same coordinates as this on.\n  /**\n   * @return {Vector} The new cloned vector\n   */\n  Vector.prototype['clone'] = Vector.prototype.clone = function() {\n    return new Vector(this['x'], this['y']);\n  };\n\n  // Change this vector to be perpendicular to what it was before. (Effectively\n  // roatates it 90 degrees in a clockwise direction)\n  /**\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['perp'] = Vector.prototype.perp = function() {\n    var x = this['x'];\n    this['x'] = this['y'];\n    this['y'] = -x;\n    return this;\n  };\n\n  // Rotate this vector (counter-clockwise) by the specified angle (in radians).\n  /**\n   * @param {number} angle The angle to rotate (in radians)\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['rotate'] = Vector.prototype.rotate = function (angle) {\n    var x = this['x'];\n    var y = this['y'];\n    this['x'] = x * Math.cos(angle) - y * Math.sin(angle);\n    this['y'] = x * Math.sin(angle) + y * Math.cos(angle);\n    return this;\n  };\n\n  // Reverse this vector.\n  /**\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['reverse'] = Vector.prototype.reverse = function() {\n    this['x'] = -this['x'];\n    this['y'] = -this['y'];\n    return this;\n  };\n  \n\n  // Normalize this vector.  (make it have length of `1`)\n  /**\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['normalize'] = Vector.prototype.normalize = function() {\n    var d = this.len();\n    if(d > 0) {\n      this['x'] = this['x'] / d;\n      this['y'] = this['y'] / d;\n    }\n    return this;\n  };\n  \n  // Add another vector to this one.\n  /**\n   * @param {Vector} other The other Vector.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['add'] = Vector.prototype.add = function(other) {\n    this['x'] += other['x'];\n    this['y'] += other['y'];\n    return this;\n  };\n  \n  // Subtract another vector from this one.\n  /**\n   * @param {Vector} other The other Vector.\n   * @return {Vector} This for chaiing.\n   */\n  Vector.prototype['sub'] = Vector.prototype.sub = function(other) {\n    this['x'] -= other['x'];\n    this['y'] -= other['y'];\n    return this;\n  };\n  \n  // Scale this vector. An independant scaling factor can be provided\n  // for each axis, or a single scaling factor that will scale both `x` and `y`.\n  /**\n   * @param {number} x The scaling factor in the x direction.\n   * @param {?number=} y The scaling factor in the y direction.  If this\n   *   is not specified, the x scaling factor will be used.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['scale'] = Vector.prototype.scale = function(x,y) {\n    this['x'] *= x;\n    this['y'] *= y || x;\n    return this; \n  };\n  \n  // Project this vector on to another vector.\n  /**\n   * @param {Vector} other The vector to project onto.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['project'] = Vector.prototype.project = function(other) {\n    var amt = this.dot(other) / other.len2();\n    this['x'] = amt * other['x'];\n    this['y'] = amt * other['y'];\n    return this;\n  };\n  \n  // Project this vector onto a vector of unit length. This is slightly more efficient\n  // than `project` when dealing with unit vectors.\n  /**\n   * @param {Vector} other The unit vector to project onto.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['projectN'] = Vector.prototype.projectN = function(other) {\n    var amt = this.dot(other);\n    this['x'] = amt * other['x'];\n    this['y'] = amt * other['y'];\n    return this;\n  };\n  \n  // Reflect this vector on an arbitrary axis.\n  /**\n   * @param {Vector} axis The vector representing the axis.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['reflect'] = Vector.prototype.reflect = function(axis) {\n    var x = this['x'];\n    var y = this['y'];\n    this.project(axis).scale(2);\n    this['x'] -= x;\n    this['y'] -= y;\n    return this;\n  };\n  \n  // Reflect this vector on an arbitrary axis (represented by a unit vector). This is\n  // slightly more efficient than `reflect` when dealing with an axis that is a unit vector.\n  /**\n   * @param {Vector} axis The unit vector representing the axis.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['reflectN'] = Vector.prototype.reflectN = function(axis) {\n    var x = this['x'];\n    var y = this['y'];\n    this.projectN(axis).scale(2);\n    this['x'] -= x;\n    this['y'] -= y;\n    return this;\n  };\n  \n  // Get the dot product of this vector and another.\n  /**\n   * @param {Vector}  other The vector to dot this one against.\n   * @return {number} The dot product.\n   */\n  Vector.prototype['dot'] = Vector.prototype.dot = function(other) {\n    return this['x'] * other['x'] + this['y'] * other['y'];\n  };\n  \n  // Get the squared length of this vector.\n  /**\n   * @return {number} The length^2 of this vector.\n   */\n  Vector.prototype['len2'] = Vector.prototype.len2 = function() {\n    return this.dot(this);\n  };\n  \n  // Get the length of this vector.\n  /**\n   * @return {number} The length of this vector.\n   */\n  Vector.prototype['len'] = Vector.prototype.len = function() {\n    return Math.sqrt(this.len2());\n  };\n  \n  // ## Circle\n  //\n  // Represents a circle with a position and a radius.\n\n  // Create a new circle, optionally passing in a position and/or radius. If no position\n  // is given, the circle will be at `(0,0)`. If no radius is provided, the circle will\n  // have a radius of `0`.\n  /**\n   * @param {Vector=} pos A vector representing the position of the center of the circle\n   * @param {?number=} r The radius of the circle\n   * @constructor\n   */\n  function Circle(pos, r) {\n    this['pos'] = pos || new Vector();\n    this['r'] = r || 0;\n  }\n  SAT['Circle'] = Circle;\n  \n  // Compute the axis-aligned bounding box (AABB) of this Circle.\n  //\n  // Note: Returns a _new_ `Polygon` each time you call this.\n  /**\n   * @return {Polygon} The AABB\n   */\n  Circle.prototype['getAABB'] = Circle.prototype.getAABB = function() {\n    var r = this['r'];\n    var corner = this[\"pos\"].clone().sub(new Vector(r, r));\n    return new Box(corner, r*2, r*2).toPolygon();\n  };\n\n  // ## Polygon\n  //\n  // Represents a *convex* polygon with any number of points (specified in counter-clockwise order)\n  //\n  // Note: Do _not_ manually change the `points`, `angle`, or `offset` properties. Use the\n  // provided setters. Otherwise the calculated properties will not be updated correctly.\n  //\n  // `pos` can be changed directly.\n\n  // Create a new polygon, passing in a position vector, and an array of points (represented\n  // by vectors relative to the position vector). If no position is passed in, the position\n  // of the polygon will be `(0,0)`.\n  /**\n   * @param {Vector=} pos A vector representing the origin of the polygon. (all other\n   *   points are relative to this one)\n   * @param {Array.<Vector>=} points An array of vectors representing the points in the polygon,\n   *   in counter-clockwise order.\n   * @constructor\n   */\n  function Polygon(pos, points) {\n    this['pos'] = pos || new Vector();\n    this['angle'] = 0;\n    this['offset'] = new Vector();\n    this.setPoints(points || []);\n  }\n  SAT['Polygon'] = Polygon;\n  \n  // Set the points of the polygon.\n  /**\n   * @param {Array.<Vector>=} points An array of vectors representing the points in the polygon,\n   *   in counter-clockwise order.\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['setPoints'] = Polygon.prototype.setPoints = function(points) {\n    // Only re-allocate if this is a new polygon or the number of points has changed.\n    var lengthChanged = !this['points'] || this['points'].length !== points.length;\n    if (lengthChanged) {\n      var i;\n      var calcPoints = this['calcPoints'] = [];\n      var edges = this['edges'] = [];\n      var normals = this['normals'] = [];\n      // Allocate the vector arrays for the calculated properties\n      for (i = 0; i < points.length; i++) {\n        calcPoints.push(new Vector());\n        edges.push(new Vector());\n        normals.push(new Vector());\n      }\n    }\n    this['points'] = points;\n    this._recalc();\n    return this;\n  };\n\n  // Set the current rotation angle of the polygon.\n  /**\n   * @param {number} angle The current rotation angle (in radians).\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['setAngle'] = Polygon.prototype.setAngle = function(angle) {\n    this['angle'] = angle;\n    this._recalc();\n    return this;\n  };\n\n  // Set the current offset to apply to the `points` before applying the `angle` rotation.\n  /**\n   * @param {Vector} offset The new offset vector.\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['setOffset'] = Polygon.prototype.setOffset = function(offset) {\n    this['offset'] = offset;\n    this._recalc();\n    return this;\n  };\n\n  // Rotates this polygon counter-clockwise around the origin of *its local coordinate system* (i.e. `pos`).\n  //\n  // Note: This changes the **original** points (so any `angle` will be applied on top of this rotation).\n  /**\n   * @param {number} angle The angle to rotate (in radians)\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['rotate'] = Polygon.prototype.rotate = function(angle) {\n    var points = this['points'];\n    var len = points.length;\n    for (var i = 0; i < len; i++) {\n      points[i].rotate(angle);\n    }\n    this._recalc();\n    return this;\n  };\n\n  // Translates the points of this polygon by a specified amount relative to the origin of *its own coordinate\n  // system* (i.e. `pos`).\n  //\n  // This is most useful to change the \"center point\" of a polygon. If you just want to move the whole polygon, change\n  // the coordinates of `pos`.\n  //\n  // Note: This changes the **original** points (so any `offset` will be applied on top of this translation)\n  /**\n   * @param {number} x The horizontal amount to translate.\n   * @param {number} y The vertical amount to translate.\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['translate'] = Polygon.prototype.translate = function (x, y) {\n    var points = this['points'];\n    var len = points.length;\n    for (var i = 0; i < len; i++) {\n      points[i].x += x;\n      points[i].y += y;\n    }\n    this._recalc();\n    return this;\n  };\n\n\n  // Computes the calculated collision polygon. Applies the `angle` and `offset` to the original points then recalculates the\n  // edges and normals of the collision polygon.\n  /**\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype._recalc = function() {\n    // Calculated points - this is what is used for underlying collisions and takes into account\n    // the angle/offset set on the polygon.\n    var calcPoints = this['calcPoints'];\n    // The edges here are the direction of the `n`th edge of the polygon, relative to\n    // the `n`th point. If you want to draw a given edge from the edge value, you must\n    // first translate to the position of the starting point.\n    var edges = this['edges'];\n    // The normals here are the direction of the normal for the `n`th edge of the polygon, relative\n    // to the position of the `n`th point. If you want to draw an edge normal, you must first\n    // translate to the position of the starting point.\n    var normals = this['normals'];\n    // Copy the original points array and apply the offset/angle\n    var points = this['points'];\n    var offset = this['offset'];\n    var angle = this['angle'];\n    var len = points.length;\n    var i;\n    for (i = 0; i < len; i++) {\n      var calcPoint = calcPoints[i].copy(points[i]);\n      calcPoint.x += offset.x;\n      calcPoint.y += offset.y;\n      if (angle !== 0) {\n        calcPoint.rotate(angle);\n      }\n    }\n    // Calculate the edges/normals\n    for (i = 0; i < len; i++) {\n      var p1 = calcPoints[i];\n      var p2 = i < len - 1 ? calcPoints[i + 1] : calcPoints[0];\n      var e = edges[i].copy(p2).sub(p1);\n      normals[i].copy(e).perp().normalize();\n    }\n    return this;\n  };\n  \n  \n  // Compute the axis-aligned bounding box. Any current state\n  // (translations/rotations) will be applied before constructing the AABB.\n  //\n  // Note: Returns a _new_ `Polygon` each time you call this.\n  /**\n   * @return {Polygon} The AABB\n   */\n  Polygon.prototype[\"getAABB\"] = Polygon.prototype.getAABB = function() {\n    var points = this[\"calcPoints\"];\n    var len = points.length;\n    var xMin = points[0][\"x\"];\n    var yMin = points[0][\"y\"];\n    var xMax = points[0][\"x\"];\n    var yMax = points[0][\"y\"];\n    for (var i = 1; i < len; i++) {\n      var point = points[i];\n      if (point[\"x\"] < xMin) {\n        xMin = point[\"x\"];\n      }\n      else if (point[\"x\"] > xMax) {\n        xMax = point[\"x\"];\n      }\n      if (point[\"y\"] < yMin) {\n        yMin = point[\"y\"];\n      }\n      else if (point[\"y\"] > yMax) {\n        yMax = point[\"y\"];\n      }\n    }\n    return new Box(this[\"pos\"].clone().add(new Vector(xMin, yMin)), xMax - xMin, yMax - yMin).toPolygon();\n  };\n  \n\n  // ## Box\n  //\n  // Represents an axis-aligned box, with a width and height.\n\n\n  // Create a new box, with the specified position, width, and height. If no position\n  // is given, the position will be `(0,0)`. If no width or height are given, they will\n  // be set to `0`.\n  /**\n   * @param {Vector=} pos A vector representing the top-left of the box.\n   * @param {?number=} w The width of the box.\n   * @param {?number=} h The height of the box.\n   * @constructor\n   */\n  function Box(pos, w, h) {\n    this['pos'] = pos || new Vector();\n    this['w'] = w || 0;\n    this['h'] = h || 0;\n  }\n  SAT['Box'] = Box;\n\n  // Returns a polygon whose edges are the same as this box.\n  /**\n   * @return {Polygon} A new Polygon that represents this box.\n   */\n  Box.prototype['toPolygon'] = Box.prototype.toPolygon = function() {\n    var pos = this['pos'];\n    var w = this['w'];\n    var h = this['h'];\n    return new Polygon(new Vector(pos['x'], pos['y']), [\n     new Vector(), new Vector(w, 0), \n     new Vector(w,h), new Vector(0,h)\n    ]);\n  };\n  \n  // ## Response\n  //\n  // An object representing the result of an intersection. Contains:\n  //  - The two objects participating in the intersection\n  //  - The vector representing the minimum change necessary to extract the first object\n  //    from the second one (as well as a unit vector in that direction and the magnitude\n  //    of the overlap)\n  //  - Whether the first object is entirely inside the second, and vice versa.\n  /**\n   * @constructor\n   */  \n  function Response() {\n    this['a'] = null;\n    this['b'] = null;\n    this['overlapN'] = new Vector();\n    this['overlapV'] = new Vector();\n    this.clear();\n  }\n  SAT['Response'] = Response;\n\n  // Set some values of the response back to their defaults.  Call this between tests if\n  // you are going to reuse a single Response object for multiple intersection tests (recommented\n  // as it will avoid allcating extra memory)\n  /**\n   * @return {Response} This for chaining\n   */\n  Response.prototype['clear'] = Response.prototype.clear = function() {\n    this['aInB'] = true;\n    this['bInA'] = true;\n    this['overlap'] = Number.MAX_VALUE;\n    return this;\n  };\n\n  // ## Object Pools\n\n  // A pool of `Vector` objects that are used in calculations to avoid\n  // allocating memory.\n  /**\n   * @type {Array.<Vector>}\n   */\n  var T_VECTORS = [];\n  for (var i = 0; i < 10; i++) { T_VECTORS.push(new Vector()); }\n  \n  // A pool of arrays of numbers used in calculations to avoid allocating\n  // memory.\n  /**\n   * @type {Array.<Array.<number>>}\n   */\n  var T_ARRAYS = [];\n  for (var i = 0; i < 5; i++) { T_ARRAYS.push([]); }\n\n  // Temporary response used for polygon hit detection.\n  /**\n   * @type {Response}\n   */\n  var T_RESPONSE = new Response();\n\n  // Unit square polygon used for polygon hit detection.\n  /**\n   * @type {Polygon}\n   */\n  var UNIT_SQUARE = new Box(new Vector(), 1, 1).toPolygon();\n\n  // ## Helper Functions\n\n  // Flattens the specified array of points onto a unit vector axis,\n  // resulting in a one dimensional range of the minimum and\n  // maximum value on that axis.\n  /**\n   * @param {Array.<Vector>} points The points to flatten.\n   * @param {Vector} normal The unit vector axis to flatten on.\n   * @param {Array.<number>} result An array.  After calling this function,\n   *   result[0] will be the minimum value,\n   *   result[1] will be the maximum value.\n   */\n  function flattenPointsOn(points, normal, result) {\n    var min = Number.MAX_VALUE;\n    var max = -Number.MAX_VALUE;\n    var len = points.length;\n    for (var i = 0; i < len; i++ ) {\n      // The magnitude of the projection of the point onto the normal\n      var dot = points[i].dot(normal);\n      if (dot < min) { min = dot; }\n      if (dot > max) { max = dot; }\n    }\n    result[0] = min; result[1] = max;\n  }\n  \n  // Check whether two convex polygons are separated by the specified\n  // axis (must be a unit vector).\n  /**\n   * @param {Vector} aPos The position of the first polygon.\n   * @param {Vector} bPos The position of the second polygon.\n   * @param {Array.<Vector>} aPoints The points in the first polygon.\n   * @param {Array.<Vector>} bPoints The points in the second polygon.\n   * @param {Vector} axis The axis (unit sized) to test against.  The points of both polygons\n   *   will be projected onto this axis.\n   * @param {Response=} response A Response object (optional) which will be populated\n   *   if the axis is not a separating axis.\n   * @return {boolean} true if it is a separating axis, false otherwise.  If false,\n   *   and a response is passed in, information about how much overlap and\n   *   the direction of the overlap will be populated.\n   */\n  function isSeparatingAxis(aPos, bPos, aPoints, bPoints, axis, response) {\n    var rangeA = T_ARRAYS.pop();\n    var rangeB = T_ARRAYS.pop();\n    // The magnitude of the offset between the two polygons\n    var offsetV = T_VECTORS.pop().copy(bPos).sub(aPos);\n    var projectedOffset = offsetV.dot(axis);\n    // Project the polygons onto the axis.\n    flattenPointsOn(aPoints, axis, rangeA);\n    flattenPointsOn(bPoints, axis, rangeB);\n    // Move B's range to its position relative to A.\n    rangeB[0] += projectedOffset;\n    rangeB[1] += projectedOffset;\n    // Check if there is a gap. If there is, this is a separating axis and we can stop\n    if (rangeA[0] > rangeB[1] || rangeB[0] > rangeA[1]) {\n      T_VECTORS.push(offsetV); \n      T_ARRAYS.push(rangeA); \n      T_ARRAYS.push(rangeB);\n      return true;\n    }\n    // This is not a separating axis. If we're calculating a response, calculate the overlap.\n    if (response) {\n      var overlap = 0;\n      // A starts further left than B\n      if (rangeA[0] < rangeB[0]) {\n        response['aInB'] = false;\n        // A ends before B does. We have to pull A out of B\n        if (rangeA[1] < rangeB[1]) { \n          overlap = rangeA[1] - rangeB[0];\n          response['bInA'] = false;\n        // B is fully inside A.  Pick the shortest way out.\n        } else {\n          var option1 = rangeA[1] - rangeB[0];\n          var option2 = rangeB[1] - rangeA[0];\n          overlap = option1 < option2 ? option1 : -option2;\n        }\n      // B starts further left than A\n      } else {\n        response['bInA'] = false;\n        // B ends before A ends. We have to push A out of B\n        if (rangeA[1] > rangeB[1]) { \n          overlap = rangeA[0] - rangeB[1];\n          response['aInB'] = false;\n        // A is fully inside B.  Pick the shortest way out.\n        } else {\n          var option1 = rangeA[1] - rangeB[0];\n          var option2 = rangeB[1] - rangeA[0];\n          overlap = option1 < option2 ? option1 : -option2;\n        }\n      }\n      // If this is the smallest amount of overlap we've seen so far, set it as the minimum overlap.\n      var absOverlap = Math.abs(overlap);\n      if (absOverlap < response['overlap']) {\n        response['overlap'] = absOverlap;\n        response['overlapN'].copy(axis);\n        if (overlap < 0) {\n          response['overlapN'].reverse();\n        }\n      }      \n    }\n    T_VECTORS.push(offsetV); \n    T_ARRAYS.push(rangeA); \n    T_ARRAYS.push(rangeB);\n    return false;\n  }\n  \n  // Calculates which Vornoi region a point is on a line segment.\n  // It is assumed that both the line and the point are relative to `(0,0)`\n  //\n  //            |       (0)      |\n  //     (-1)  [S]--------------[E]  (1)\n  //            |       (0)      |\n  /**\n   * @param {Vector} line The line segment.\n   * @param {Vector} point The point.\n   * @return  {number} LEFT_VORNOI_REGION (-1) if it is the left region, \n   *          MIDDLE_VORNOI_REGION (0) if it is the middle region, \n   *          RIGHT_VORNOI_REGION (1) if it is the right region.\n   */\n  function vornoiRegion(line, point) {\n    var len2 = line.len2();\n    var dp = point.dot(line);\n    // If the point is beyond the start of the line, it is in the\n    // left vornoi region.\n    if (dp < 0) { return LEFT_VORNOI_REGION; }\n    // If the point is beyond the end of the line, it is in the\n    // right vornoi region.\n    else if (dp > len2) { return RIGHT_VORNOI_REGION; }\n    // Otherwise, it's in the middle one.\n    else { return MIDDLE_VORNOI_REGION; }\n  }\n  // Constants for Vornoi regions\n  /**\n   * @const\n   */\n  var LEFT_VORNOI_REGION = -1;\n  /**\n   * @const\n   */\n  var MIDDLE_VORNOI_REGION = 0;\n  /**\n   * @const\n   */\n  var RIGHT_VORNOI_REGION = 1;\n  \n  // ## Collision Tests\n\n  // Check if a point is inside a circle.\n  /**\n   * @param {Vector} p The point to test.\n   * @param {Circle} c The circle to test.\n   * @return {boolean} true if the point is inside the circle, false if it is not.\n   */\n  function pointInCircle(p, c) {\n    var differenceV = T_VECTORS.pop().copy(p).sub(c['pos']);\n    var radiusSq = c['r'] * c['r'];\n    var distanceSq = differenceV.len2();\n    T_VECTORS.push(differenceV);\n    // If the distance between is smaller than the radius then the point is inside the circle.\n    return distanceSq <= radiusSq;\n  }\n  SAT['pointInCircle'] = pointInCircle;\n\n  // Check if a point is inside a convex polygon.\n  /**\n   * @param {Vector} p The point to test.\n   * @param {Polygon} poly The polygon to test.\n   * @return {boolean} true if the point is inside the polygon, false if it is not.\n   */\n  function pointInPolygon(p, poly) {\n    UNIT_SQUARE['pos'].copy(p);\n    T_RESPONSE.clear();\n    var result = testPolygonPolygon(UNIT_SQUARE, poly, T_RESPONSE);\n    if (result) {\n      result = T_RESPONSE['aInB'];\n    }\n    return result;\n  }\n  SAT['pointInPolygon'] = pointInPolygon;\n\n  // Check if two circles collide.\n  /**\n   * @param {Circle} a The first circle.\n   * @param {Circle} b The second circle.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   the circles intersect.\n   * @return {boolean} true if the circles intersect, false if they don't. \n   */\n  function testCircleCircle(a, b, response) {\n    // Check if the distance between the centers of the two\n    // circles is greater than their combined radius.\n    var differenceV = T_VECTORS.pop().copy(b['pos']).sub(a['pos']);\n    var totalRadius = a['r'] + b['r'];\n    var totalRadiusSq = totalRadius * totalRadius;\n    var distanceSq = differenceV.len2();\n    // If the distance is bigger than the combined radius, they don't intersect.\n    if (distanceSq > totalRadiusSq) {\n      T_VECTORS.push(differenceV);\n      return false;\n    }\n    // They intersect.  If we're calculating a response, calculate the overlap.\n    if (response) { \n      var dist = Math.sqrt(distanceSq);\n      response['a'] = a;\n      response['b'] = b;\n      response['overlap'] = totalRadius - dist;\n      response['overlapN'].copy(differenceV.normalize());\n      response['overlapV'].copy(differenceV).scale(response['overlap']);\n      response['aInB']= a['r'] <= b['r'] && dist <= b['r'] - a['r'];\n      response['bInA'] = b['r'] <= a['r'] && dist <= a['r'] - b['r'];\n    }\n    T_VECTORS.push(differenceV);\n    return true;\n  }\n  SAT['testCircleCircle'] = testCircleCircle;\n  \n  // Check if a polygon and a circle collide.\n  /**\n   * @param {Polygon} polygon The polygon.\n   * @param {Circle} circle The circle.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   they interset.\n   * @return {boolean} true if they intersect, false if they don't.\n   */\n  function testPolygonCircle(polygon, circle, response) {\n    // Get the position of the circle relative to the polygon.\n    var circlePos = T_VECTORS.pop().copy(circle['pos']).sub(polygon['pos']);\n    var radius = circle['r'];\n    var radius2 = radius * radius;\n    var points = polygon['calcPoints'];\n    var len = points.length;\n    var edge = T_VECTORS.pop();\n    var point = T_VECTORS.pop();\n    \n    // For each edge in the polygon:\n    for (var i = 0; i < len; i++) {\n      var next = i === len - 1 ? 0 : i + 1;\n      var prev = i === 0 ? len - 1 : i - 1;\n      var overlap = 0;\n      var overlapN = null;\n      \n      // Get the edge.\n      edge.copy(polygon['edges'][i]);\n      // Calculate the center of the circle relative to the starting point of the edge.\n      point.copy(circlePos).sub(points[i]);\n      \n      // If the distance between the center of the circle and the point\n      // is bigger than the radius, the polygon is definitely not fully in\n      // the circle.\n      if (response && point.len2() > radius2) {\n        response['aInB'] = false;\n      }\n      \n      // Calculate which Vornoi region the center of the circle is in.\n      var region = vornoiRegion(edge, point);\n      // If it's the left region:\n      if (region === LEFT_VORNOI_REGION) { \n        // We need to make sure we're in the RIGHT_VORNOI_REGION of the previous edge.\n        edge.copy(polygon['edges'][prev]);\n        // Calculate the center of the circle relative the starting point of the previous edge\n        var point2 = T_VECTORS.pop().copy(circlePos).sub(points[prev]);\n        region = vornoiRegion(edge, point2);\n        if (region === RIGHT_VORNOI_REGION) {\n          // It's in the region we want.  Check if the circle intersects the point.\n          var dist = point.len();\n          if (dist > radius) {\n            // No intersection\n            T_VECTORS.push(circlePos); \n            T_VECTORS.push(edge);\n            T_VECTORS.push(point); \n            T_VECTORS.push(point2);\n            return false;\n          } else if (response) {\n            // It intersects, calculate the overlap.\n            response['bInA'] = false;\n            overlapN = point.normalize();\n            overlap = radius - dist;\n          }\n        }\n        T_VECTORS.push(point2);\n      // If it's the right region:\n      } else if (region === RIGHT_VORNOI_REGION) {\n        // We need to make sure we're in the left region on the next edge\n        edge.copy(polygon['edges'][next]);\n        // Calculate the center of the circle relative to the starting point of the next edge.\n        point.copy(circlePos).sub(points[next]);\n        region = vornoiRegion(edge, point);\n        if (region === LEFT_VORNOI_REGION) {\n          // It's in the region we want.  Check if the circle intersects the point.\n          var dist = point.len();\n          if (dist > radius) {\n            // No intersection\n            T_VECTORS.push(circlePos); \n            T_VECTORS.push(edge); \n            T_VECTORS.push(point);\n            return false;              \n          } else if (response) {\n            // It intersects, calculate the overlap.\n            response['bInA'] = false;\n            overlapN = point.normalize();\n            overlap = radius - dist;\n          }\n        }\n      // Otherwise, it's the middle region:\n      } else {\n        // Need to check if the circle is intersecting the edge,\n        // Change the edge into its \"edge normal\".\n        var normal = edge.perp().normalize();\n        // Find the perpendicular distance between the center of the \n        // circle and the edge.\n        var dist = point.dot(normal);\n        var distAbs = Math.abs(dist);\n        // If the circle is on the outside of the edge, there is no intersection.\n        if (dist > 0 && distAbs > radius) {\n          // No intersection\n          T_VECTORS.push(circlePos); \n          T_VECTORS.push(normal); \n          T_VECTORS.push(point);\n          return false;\n        } else if (response) {\n          // It intersects, calculate the overlap.\n          overlapN = normal;\n          overlap = radius - dist;\n          // If the center of the circle is on the outside of the edge, or part of the\n          // circle is on the outside, the circle is not fully inside the polygon.\n          if (dist >= 0 || overlap < 2 * radius) {\n            response['bInA'] = false;\n          }\n        }\n      }\n      \n      // If this is the smallest overlap we've seen, keep it. \n      // (overlapN may be null if the circle was in the wrong Vornoi region).\n      if (overlapN && response && Math.abs(overlap) < Math.abs(response['overlap'])) {\n        response['overlap'] = overlap;\n        response['overlapN'].copy(overlapN);\n      }\n    }\n    \n    // Calculate the final overlap vector - based on the smallest overlap.\n    if (response) {\n      response['a'] = polygon;\n      response['b'] = circle;\n      response['overlapV'].copy(response['overlapN']).scale(response['overlap']);\n    }\n    T_VECTORS.push(circlePos); \n    T_VECTORS.push(edge); \n    T_VECTORS.push(point);\n    return true;\n  }\n  SAT['testPolygonCircle'] = testPolygonCircle;\n  \n  // Check if a circle and a polygon collide.\n  //\n  // **NOTE:** This is slightly less efficient than polygonCircle as it just\n  // runs polygonCircle and reverses everything at the end.\n  /**\n   * @param {Circle} circle The circle.\n   * @param {Polygon} polygon The polygon.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   they interset.\n   * @return {boolean} true if they intersect, false if they don't.\n   */\n  function testCirclePolygon(circle, polygon, response) {\n    // Test the polygon against the circle.\n    var result = testPolygonCircle(polygon, circle, response);\n    if (result && response) {\n      // Swap A and B in the response.\n      var a = response['a'];\n      var aInB = response['aInB'];\n      response['overlapN'].reverse();\n      response['overlapV'].reverse();\n      response['a'] = response['b'];\n      response['b'] = a;\n      response['aInB'] = response['bInA'];\n      response['bInA'] = aInB;\n    }\n    return result;\n  }\n  SAT['testCirclePolygon'] = testCirclePolygon;\n  \n  // Checks whether polygons collide.\n  /**\n   * @param {Polygon} a The first polygon.\n   * @param {Polygon} b The second polygon.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   they interset.\n   * @return {boolean} true if they intersect, false if they don't.\n   */\n  function testPolygonPolygon(a, b, response) {\n    var aPoints = a['calcPoints'];\n    var aLen = aPoints.length;\n    var bPoints = b['calcPoints'];\n    var bLen = bPoints.length;\n    // If any of the edge normals of A is a separating axis, no intersection.\n    for (var i = 0; i < aLen; i++) {\n      if (isSeparatingAxis(a['pos'], b['pos'], aPoints, bPoints, a['normals'][i], response)) {\n        return false;\n      }\n    }\n    // If any of the edge normals of B is a separating axis, no intersection.\n    for (var i = 0;i < bLen; i++) {\n      if (isSeparatingAxis(a['pos'], b['pos'], aPoints, bPoints, b['normals'][i], response)) {\n        return false;\n      }\n    }\n    // Since none of the edge normals of A or B are a separating axis, there is an intersection\n    // and we've already calculated the smallest overlap (in isSeparatingAxis).  Calculate the\n    // final overlap vector.\n    if (response) {\n      response['a'] = a;\n      response['b'] = b;\n      response['overlapV'].copy(response['overlapN']).scale(response['overlap']);\n    }\n    return true;\n  }\n  SAT['testPolygonPolygon'] = testPolygonPolygon;\n\n  return SAT;\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/sat/SAT.js\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 11\n ** module chunks = 0\n **/","import ShipModule from \"./ShipModule\";\n\nimport {BLOCK_SIZE} from \"../Constants\"\n\n\nconst MASS = 5;\nconst ENGINE_POWER = 25;\nconst TURN_POWER = 5;\nconst COST = 50;\nconst HITPOINTS = 5;\nconst POWER_GENERATION = 0;\n\nimport {loadImage} from \"./ImageLoader\"\nimport gfx from \"./engine.svg\";\n\nexport default class Engine extends ShipModule {\n\n  constructor(ship,x,y){\n    super(ship, x, y, MASS, ENGINE_POWER, TURN_POWER, COST, HITPOINTS,POWER_GENERATION, BLOCK_SIZE, BLOCK_SIZE);\n\n    this.img = loadImage(gfx, ship.color)\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this.x,this.y);\n\n\n    if(this.ship.accelerating){\n      screen.fillStyle = this.ship.color;\n      screen.beginPath();\n      screen.lineTo(0,0);\n      screen.lineTo(BLOCK_SIZE,0);\n      screen.lineTo(BLOCK_SIZE/2,BLOCK_SIZE);\n      screen.closePath();\n      screen.fill();\n    }\n\n    screen.drawImage(this.img,0,0,this.width,this.height);\n\n    screen.restore();\n\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/Engine.js\n **/","import SAT from \"sat\";\nconst V = SAT.Vector;\n\nimport Sprite from \"../Sprite\"\n\nimport {BLOCK_SIZE} from \"../Constants\"\n\nvar ship,game;\nvar x,y,angle;\nvar _mass,_enginePower, _turnPower, _cost, _hitpoints;\n\nexport default class ShipModule extends Sprite {\n\n  constructor(ship, x, y, mass, enginePower, turnPower, cost, hp, powerGeneration, width=BLOCK_SIZE, height=BLOCK_SIZE) {\n    super();\n    this.x = x;\n    this.y = y;\n\n    this._width = width;\n    this._height = height;\n\n    this.ship = ship;\n    this.game = ship.game;\n\n    this.angle = 0;\n\n    this._mass = mass;\n    this._enginePower = enginePower;\n    this._turnPower = turnPower;\n    this._cost = cost;\n    this._hitpoints = hp;\n    this._remainingHitpoints = hp;\n    this._powerGeneration = powerGeneration;\n  }\n\n  get mass(){\n    return this._mass;\n  }\n\n  get enginePower(){\n    return this._enginePower;\n  }\n\n  get turnPower(){\n    return this._turnPower;\n  }\n\n  get cost() {\n    return this._cost;\n  }\n\n  get hp(){\n    return this._hitpoints;\n  }\n\n  get powerGeneration(){\n    return this._powerGeneration;\n  }\n\n  get height(){\n      return this._height;\n  }\n\n  get globalAngle(){\n      return this.angle+this.ship.angle;\n  }\n\n  get drawParent(){\n      return this.ship;\n  }\n\n  get width() {\n      return this._width;\n  }\n\n  get globalX(){\n    return this.worldPos[0];\n  }\n\n  get globalY(){\n    return this.worldPos[1];\n  }\n\n  get worldPos(){\n    const shipAngle = this.ship.angle+Math.PI/2;\n    const shipCenterOffestX = this.x+BLOCK_SIZE/2 - this.ship.pivotX;\n    const shipCenterOffestY = this.y+BLOCK_SIZE/2 - this.ship.pivotY;\n\n    const x = this.ship.x + Math.cos(shipAngle)*(shipCenterOffestX) - Math.sin(shipAngle)*shipCenterOffestY;\n    const y = this.ship.y + Math.sin(shipAngle)*(shipCenterOffestX) + Math.cos(shipAngle)*shipCenterOffestY;\n    return [x,y];\n  }\n\n  recieveDamage(dmg){\n    this._remainingHitpoints -= dmg;\n    if(this._remainingHitpoints <= 0){\n      this.die();\n    }\n  }\n\n  die(){\n    this.ship.removeModule(this);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/ShipModule.js\n **/","export const DEGREE = (Math.PI/180);\nexport const BLOCK_SIZE = 15;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Constants.js\n **/","\nconst cache = {};\n\nconst hc = document.getElementById(\"helperCanvas\");\n\n\n\nexport function loadImage(gfx, colorIt = \"#999999\"){\n  var cacheKey = gfx+colorIt;\n  if(cache[cacheKey]){\n    return cache[cacheKey]\n  }\n  var parser = new DOMParser();\n  var data = [\n    unescape(gfx).substring(0,gfx.indexOf(\",\")+1),\n    unescape(gfx).substring(gfx.indexOf(\",\")+1)\n  ];\n  var xmlDoc = parser.parseFromString(data[1], \"text/xml\");\n  var color = xmlDoc.getElementById(\"teamColor\");\n  if(color){\n    color.style.fill = colorIt;\n  }\n\n  data[1] = new XMLSerializer().serializeToString(xmlDoc.documentElement);\n\n  cache[cacheKey] = renderSvg(data[0]+data[1], 16,16);\n  return cache[cacheKey];\n}\n\nfunction renderSvg(svg, w, h){\n  var img = new Image();\n  img.src = svg;\n\n  hc.setAttribute(\"width\",w);\n  hc.setAttribute(\"height\",h);\n\n  const ctx = hc.getContext('2d');\n  ctx.clearRect(0,0,w,h);\n  ctx.drawImage(img,0,0,w,h);\n  var imgdata = hc.toDataURL(\"image/png\");\n\n  var rimg = new Image();\n  rimg.src = imgdata;\n  return rimg;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/ImageLoader.js\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='engine.svg'%3E %3Cdefs id='defs4'%3E %3ClinearGradient inkscape:collect='always' id='linearGradient4332'%3E %3Cstop style='stop-color:%23000000;stop-opacity:1;' offset='0' id='stop4334' /%3E %3Cstop style='stop-color:%23000000;stop-opacity:0;' offset='1' id='stop4336' /%3E %3C/linearGradient%3E %3ClinearGradient inkscape:collect='always' xlink:href='%23linearGradient4332' id='linearGradient4338' x1='4.7307509e-009' y1='975.41113' x2='99.996306' y2='975.41113' gradientUnits='userSpaceOnUse' /%3E %3C/defs%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='64.435752' inkscape:cy='63.279261' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Cpath style='fill:%23ff00ff;fill-opacity:1;fill-rule:evenodd;stroke:%23000000;stroke-width:0.99342591px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 90.012486,997.46595 9.373568,-44.50913 -98.75727273,0 10.44836473,44.50913 c 0,0 24.758938,-20.00408 39.46767,-20.00408 14.708733,0 39.46767,20.00408 39.46767,20.00408 z' id='teamColor' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccsc' /%3E %3Cpath style='fill:%23ffffff;fill-opacity:0.59610027;fill-rule:evenodd;stroke:url(%23linearGradient4338);stroke-width:0.99342591px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 90.010522,997.46595 9.373568,-44.50913 -98.75727299,0 10.44836499,44.50913 c 0,0 24.758938,-20.00408 39.46767,-20.00408 14.708733,0 39.46767,20.00408 39.46767,20.00408 z' id='teamColor-8' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccsc' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/engine.svg\n ** module id = 16\n ** module chunks = 0\n **/","\nimport ShipModule from \"./ShipModule\";\n\nimport {BLOCK_SIZE} from \"../Constants\"\n\nvar x;\nvar y;\n\nconst MASS = 5;\nconst ENGINE_POWER = 0;\nconst TURN_POWER = 0;\nconst COST = 0;\nconst HITPOINTS = 5;\nconst POWER_GENERATION = 1;\n\nimport {loadImage} from \"./ImageLoader\"\nimport gfx from \"./core.svg\";\n\nexport default class Core extends ShipModule {\n\n\n  constructor(ship, x,y){\n    super(ship, x, y, MASS, ENGINE_POWER, TURN_POWER, COST, HITPOINTS,POWER_GENERATION);\n\n    this.img = loadImage(gfx, ship.color);\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this.x,this.y);\n\n    screen.drawImage(this.img,0,0,this.width,this.height);\n    screen.restore();\n  }\n\n  die(){\n    super.die();\n    this.ship.die();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/Core.js\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='core.svg'%3E %3Cdefs id='defs4'%3E %3ClinearGradient inkscape:collect='always' id='linearGradient4356'%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:1;' offset='0' id='stop4358' /%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:0;' offset='1' id='stop4360' /%3E %3C/linearGradient%3E %3CradialGradient inkscape:collect='always' xlink:href='%23linearGradient4356' id='radialGradient4364' cx='43.400658' cy='991.88159' fx='43.400658' fy='991.88159' r='34.999996' gradientTransform='matrix(1.2038183,-0.02529438,0.02594309,1.2346923,-34.496847,-231.38725)' gradientUnits='userSpaceOnUse' /%3E %3C/defs%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='64.435752' inkscape:cy='50.817855' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Crect style='opacity:1;fill:%23ff00ff;fill-opacity:1;stroke:%23000000;stroke-width:1.00300002;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' id='teamColor' width='99.285713' height='99.910713' x='0.53571427' y='952.54071' /%3E %3Crect style='opacity:1;fill:%23000000;fill-opacity:0.46796659;stroke:%23000000;stroke-width:1.00300002;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' id='rect4352' width='90' height='90' x='5.5015001' y='956.86066' ry='14.464286' /%3E %3Cellipse style='opacity:1;fill:url(%23radialGradient4364);fill-opacity:1;stroke:%23000000;stroke-width:1.13432479;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' id='path4354' cx='50' cy='1002.3621' rx='34.432835' ry='34.432838' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/core.svg\n ** module id = 18\n ** module chunks = 0\n **/","import ShipModule from \"./ShipModule\";\nimport {loadImage} from \"./ImageLoader\"\nimport gfx from \"./box.svg\";\n\n\nconst MASS = 300;\nconst ENGINE_POWER = 0;\nconst TURN_POWER = 0;\nconst COST = 5;\nconst HITPOINTS = 50;\nconst POWER_GENERATION = 0;\n\nexport default class Armor extends ShipModule {\n\n  constructor(ship, x,y){\n    super(ship, x, y, MASS, ENGINE_POWER, TURN_POWER, COST, HITPOINTS,POWER_GENERATION);\n\n    this.img = loadImage(gfx, ship.color)\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this.x,this.y);\n    screen.fillStyle=this.ship.color;\n    screen.drawImage(this.img,0,0,this.width,this.height);\n    screen.restore();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/Armor.js\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='box.svg'%3E %3Cdefs id='defs4'%3E %3ClinearGradient inkscape:collect='always' id='linearGradient4173'%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:1;' offset='0' id='stop4175' /%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:0;' offset='1' id='stop4177' /%3E %3C/linearGradient%3E %3CradialGradient inkscape:collect='always' xlink:href='%23linearGradient4173' id='radialGradient4187' cx='97.612335' cy='1013.8953' fx='97.612335' fy='1013.8953' r='50.000019' gradientUnits='userSpaceOnUse' gradientTransform='matrix(0.00552191,1.2464515,-1.6732348,0.0074126,1697.2854,824.7847)' spreadMethod='reflect' /%3E %3C/defs%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='34.816822' inkscape:cy='47.586894' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Crect style='fill:%23ff00ff;fill-opacity:1;fill-rule:evenodd;stroke:%23000000;stroke-width:1.0029577px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' id='teamColor' width='98.99704' height='98.99704' x='0.50147885' y='952.86365' /%3E %3Crect style='fill:url(%23radialGradient4187);fill-rule:evenodd;stroke:%23000000;stroke-width:1.003;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;fill-opacity:1;opacity:0.533;stroke-miterlimit:4;stroke-dasharray:none' id='rect3344-0' width='98.99704' height='98.99704' x='0.50147885' y='952.86365' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/box.svg\n ** module id = 20\n ** module chunks = 0\n **/","import ShipModule from \"./ShipModule\";\nimport {BLOCK_SIZE} from \"../Constants\"\n\nimport {loadImage} from \"./ImageLoader\"\nimport gfx_right from \"./wing_right.svg\";\nimport gfx_left from \"./wing_left.svg\";\n\nconst MASS = 50;\nconst ENGINE_POWER = 0;\nconst TURN_POWER = 35;\nconst COST = 5;\nconst HITPOINTS = 10;\nconst POWER_GENERATION = 0;\n\nexport default class Wing extends ShipModule {\n\n  constructor(ship,x,y){\n    super(ship, x, y, MASS, ENGINE_POWER, TURN_POWER, COST, HITPOINTS,POWER_GENERATION, BLOCK_SIZE, BLOCK_SIZE);\n    if(x<=this.ship.pivotX){\n      this.img = loadImage(gfx_left, ship.color)\n    }else{\n      this.img = loadImage(gfx_right, ship.color)\n    }\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this.x,this.y);\n\n    screen.drawImage(this.img,0,0,this.width,this.height);\n\n    screen.restore();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/Wing.js\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='wing.svg'%3E %3Cdefs id='defs4'%3E %3ClinearGradient inkscape:collect='always' id='linearGradient4246'%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:1;' offset='0' id='stop4248' /%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:0;' offset='1' id='stop4250' /%3E %3C/linearGradient%3E %3ClinearGradient inkscape:collect='always' id='linearGradient4214'%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:1;' offset='0' id='stop4216' /%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:0' offset='1' id='stop4218' /%3E %3C/linearGradient%3E %3ClinearGradient inkscape:collect='always' xlink:href='%23linearGradient4214' id='linearGradient4220' x1='22.821428' y1='999.80859' x2='16.214291' y2='956.68353' gradientUnits='userSpaceOnUse' /%3E %3ClinearGradient gradientTransform='translate(-0.08928596,22.589323)' inkscape:collect='always' xlink:href='%23linearGradient4246' id='linearGradient4252-1' x1='31.517857' y1='1027.0942' x2='28.303576' y2='979.5943' gradientUnits='userSpaceOnUse' /%3E %3C/defs%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='34.816822' inkscape:cy='47.586894' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Cpath style='fill:%23ff00ff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='M 0.67857143,953.11212 0.5,1051.8622 l 100.08929,0 -64.196433,-89.46437 z' id='teamColor' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3Cpath style='fill:url(%23linearGradient4220);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='M 0.76785714,952.3978 0.67857143,1004.0051 62.107147,998.46934 36.035714,962.93351 Z' id='teamColor-6' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3Cpath style='fill:url(%23linearGradient4252-1);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='M 0.98214047,1000.6657 0.89285533,1051.7373 100,1051.4694 60.98214,997.45143 Z' id='teamColor-6-2-9' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3Cpath style='fill:none;fill-opacity:1;fill-rule:evenodd;stroke:%23000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='M 0.76785714,953.02275 0.5,1051.8622 l 100.08929,0 -64.196433,-89.46445 z' id='teamColor-1' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/wing_right.svg\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='wing_left.svg'%3E %3Cdefs id='defs4'%3E %3ClinearGradient inkscape:collect='always' id='linearGradient4246'%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:1;' offset='0' id='stop4248' /%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:0;' offset='1' id='stop4250' /%3E %3C/linearGradient%3E %3ClinearGradient inkscape:collect='always' id='linearGradient4214'%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:1;' offset='0' id='stop4216' /%3E %3Cstop style='stop-color:%23ffffff;stop-opacity:0' offset='1' id='stop4218' /%3E %3C/linearGradient%3E %3ClinearGradient inkscape:collect='always' xlink:href='%23linearGradient4214' id='linearGradient4220' x1='22.821428' y1='999.80859' x2='16.214291' y2='956.68353' gradientUnits='userSpaceOnUse' /%3E %3ClinearGradient gradientTransform='translate(-0.08928596,22.589323)' inkscape:collect='always' xlink:href='%23linearGradient4246' id='linearGradient4252-1' x1='31.517857' y1='1027.0942' x2='28.303576' y2='979.5943' gradientUnits='userSpaceOnUse' /%3E %3C/defs%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='34.816822' inkscape:cy='47.586894' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Cg id='g4383' transform='matrix(-1,0,0,1,101.56212,0)'%3E %3Cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='teamColor' d='M 0.67857143,953.11212 0.5,1051.8622 l 100.08929,0 -64.196433,-89.46437 z' style='fill:%23ff00ff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E %3Cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='teamColor-6' d='M 0.76785714,952.3978 0.67857143,1004.0051 62.107147,998.46934 36.035714,962.93351 Z' style='fill:url(%23linearGradient4220);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E %3Cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='teamColor-6-2-9' d='M 0.98214047,1000.6657 0.89285533,1051.7373 100,1051.4694 60.98214,997.45143 Z' style='fill:url(%23linearGradient4252-1);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E %3Cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='teamColor-1' d='M 0.76785714,953.02275 0.5,1051.8622 l 100.08929,0 -64.196433,-89.46445 z' style='fill:none;fill-opacity:1;fill-rule:evenodd;stroke:%23000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/wing_left.svg\n ** module id = 23\n ** module chunks = 0\n **/","import {BLOCK_SIZE} from \"../../Constants\"\n\nimport ShipModule from \"../ShipModule\"\nimport Bullet from \"./Bullet\"\n\n\nconst MASS = 50;\nconst ENGINE_POWER = 0;\nconst TURN_POWER = 0;\nconst COST = 25;\nconst HITPOINTS = 10;\nconst POWER_GENERATION = 0;\n\n\nimport {loadImage} from \"../ImageLoader\"\nimport gfx_base from \"./gun_base.svg\";\nimport gfx_turret from \"./gun_turret.svg\";\n\nexport default class Gun extends ShipModule {\n\n  constructor(ship, x, y){\n    super(ship, x, y, MASS, ENGINE_POWER, TURN_POWER, COST, HITPOINTS,POWER_GENERATION);\n\n    this.timeToReload = 25;\n    this.reloadTimeLeft = 0;\n\n    this.img_base = loadImage(gfx_base, ship.color);\n    this.img_turret = loadImage(gfx_turret, ship.color);\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this.x,this.y);\n\n    screen.drawImage(this.img_base,0,0,this.width,this.height);\n    screen.drawImage(this.img_turret,0,0,this.width,this.height);\n\n    screen.fillStyle = this.ship.color;\n    var maxWidth = this.width-1;\n    screen.fillRect(1,this.height-2,maxWidth*(1-this.reloadTimeLeft/this.timeToReload),1);\n\n    screen.restore();\n  }\n\n  tick(){\n    this.reloadTimeLeft = Math.max(this.reloadTimeLeft-1,0);\n    if(this.ship._firingPrimary && this.reloadTimeLeft <= 0){\n      this.reloadTimeLeft = this.timeToReload;\n      this.game.spawn(new Bullet(this, ...this.worldPos, this.ship.angle),\"SHOTS\");\n    }\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/gun/Gun.js\n **/","import Sprite from \"../../Sprite\"\n\nconst DEGREE = (Math.PI/180);\n\nvar _x,_y,gun;\n\nexport default class Bullet extends Sprite {\n\n  constructor(gun, x,y,angle){\n    super();\n\n    this.gun = gun;\n    this._x = x;\n    this._y = y;\n    this.speed = 6;\n    this.angle = angle;\n    this.age = 0;\n\n    this.damage = 2;\n\n    this.dx = Math.cos(this.angle)*this.speed;\n    this.dy = Math.sin(this.angle)*this.speed;\n  }\n\n  tick() {\n    this.age++;\n    this._x += this.dx;\n    this._y += this.dy;\n\n    if(this.age > 100){\n      this.die();\n    }\n\n    this.wrapAroundWorld();\n  }\n\n  die(){\n    this.gun.game.removeFromLayer(this)\n  }\n\n  draw(screen){\n\n    screen.save();\n    screen.translate(this._x,this._y);\n    screen.rotate(90*DEGREE);\n    screen.rotate(this.angle);\n\n\n    screen.beginPath();\n    screen.lineTo(-1,0);\n    screen.lineTo(-1,-3);\n    screen.lineTo(0,-5);\n    screen.lineTo(1,-3);\n    screen.lineTo(1,0);\n\n    screen.closePath();\n    screen.fillStyle = this.gun.ship.color;\n    screen.fill();\n\n    screen.restore();\n  }\n\n  wrapAroundWorld(){\n    var cw = this.gun.game.canvas.getAttribute(\"width\");\n    var ch = this.gun.game.canvas.getAttribute(\"height\");\n    if(this._x < 0){\n      this._x = cw - this.x;\n    }else if(this._x > cw){\n      this._x = this._x - cw;\n    }\n    if(this._y < 0){\n      this._y = ch - this._y;\n    }else if(this._y > ch){\n      this._y = this._y - ch;\n    }\n  }\n\n\n  get width(){\n    return 2;\n  }\n\n  get height(){\n    return 5;\n  }\n\n  get globalX(){\n    return this._x;\n  }\n\n  get globalY(){\n    return this._y;\n  }\n\n\n  get globalAngle(){\n      return this.angle;\n  }\n\n\n  collide(collidedWith){\n    collidedWith.recieveDamage(this.damage);\n    this.die();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/gun/Bullet.js\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='gun_base.svg'%3E %3Cdefs id='defs4' /%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='64.435752' inkscape:cy='50.817855' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title /%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Cpath style='fill:%23ff00ff;fill-opacity:0.4679666;fill-rule:evenodd;stroke:%23000000;stroke-width:0.95370758px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 4.9782926,965.68075 -4.64505302,86.20455 99.42199942,0 -4.73438,-86.20455 c -45.199939,-4.78915 -45.199939,-4.70797 -90.0425664,0 z' id='teamColor' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3Cpath style='fill:%23000000;fill-opacity:0.59888575;fill-rule:evenodd;stroke:%23000000;stroke-width:0.95370758px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 4.9782926,965.68075 -4.64505302,86.20455 99.42199942,0 -4.73438,-86.20455 c -45.199939,-4.78915 -45.199939,-4.70797 -90.0425664,0 z' id='teamColor-3' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/gun/gun_base.svg\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='gun_turret.svg'%3E %3Cdefs id='defs4' /%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='64.435752' inkscape:cy='50.817855' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Cellipse style='opacity:1;fill:%23000000;fill-opacity:1;stroke:%23000000;stroke-width:1.45630145;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' id='path4415' cx='49.86607' cy='1020.264' rx='20.621565' ry='25.532278' /%3E %3Crect ry='4.2857318' style='opacity:1;fill:%23000000;fill-opacity:1;stroke:%23000000;stroke-width:1.71063542;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' id='rect4417' width='30.185223' height='54.024494' x='34.460957' y='959.0553' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/gun/gun_turret.svg\n ** module id = 27\n ** module chunks = 0\n **/","import {BLOCK_SIZE} from \"../../Constants\"\n\nimport ShipModule from \"../ShipModule\"\nimport Beam from \"./Beam\"\n\n\nconst MASS = 150;\nconst ENGINE_POWER = 0;\nconst TURN_POWER = 0;\nconst COST = 75;\nconst HITPOINTS = 10;\nconst POWER_GENERATION = 0;\n\n\nimport {loadImage} from \"../ImageLoader\"\nimport gfx_base from \"./gun_base.svg\";\nimport gfx_turret from \"./gun_turret.svg\";\n\nexport default class Gun extends ShipModule {\n\n  constructor(ship, x, y){\n    super(ship, x, y, MASS, ENGINE_POWER, TURN_POWER, COST, HITPOINTS,POWER_GENERATION);\n\n    this.img_base = loadImage(gfx_base, ship.color);\n    this.img_turret = loadImage(gfx_turret, ship.color);\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this.x,this.y);\n\n    screen.drawImage(this.img_base,0,0,this.width,this.height);\n\n    screen.fillStyle = this.ship.color;\n    var maxWidth = this.width-1;\n    screen.fillRect(1,this.height-2,maxWidth*(1-this.reloadTimeLeft/this.timeToReload),1);\n\n    screen.restore();\n  }\n\n  tick(){\n    if(this.ship._firingPrimary && this._beam === undefined){\n      this._beam = new Beam(this);\n      this.game.spawn(this._beam,\"UNDER_SHIPS\");\n    }else if(!this.ship._firingPrimary && this._beam !== undefined) {\n      this.game.removeFromLayer(this._beam,\"UNDER_SHIPS\");\n      this._beam = undefined;\n    }\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/beam/BeamWeapon.js\n **/","import Sprite from \"../../Sprite\"\n\nimport SAT from \"sat\";\n\nconst V = SAT.Vector;\nconst P = SAT.Polygon;\nconst B = SAT.Box;\n\nimport {DEGREE, BLOCK_SIZE} from \"../../Constants\"\n\nvar _x,_y,gun;\n\nexport default class Beam extends Sprite {\n\n  constructor(gun){\n    super();\n\n    this.gun = gun;\n    this._x = this.gun._x;\n    this._y = this.gun._y;\n\n    this.damage = 0.2;\n\n    this.dx = Math.cos(this.angle)*this.speed;\n    this.dy = Math.sin(this.angle)*this.speed;\n  }\n\n  get angle(){\n    return this.gun.globalAngle+Math.PI;\n  }\n\n  tick() {\n    this._x += this.gun._x;\n    this._y += this.gun._y;\n  }\n\n  die(){\n    this.gun.game.removeFromLayer(this)\n  }\n\n  draw(screen){\n    screen.save();\n    screen.translate(this.gun.globalX, this.gun.globalY);\n    screen.rotate(90*DEGREE);\n    screen.rotate(this.angle);\n    screen.translate(-this.pivotX,-this.pivotY);\n\n    screen.beginPath();\n    screen.lineTo(0,0);\n    screen.lineTo(this.width/2,this.height);\n    screen.lineTo(this.width,0);\n\n    screen.closePath();\n    screen.fillStyle = this.gun.ship.color;\n    screen.fill();\n\n    screen.restore();\n\n    // super.drawCollisionPoly(screen);\n\n  }\n\n  get collisionPoly() {\n\n    var line = new B(new V(0,0),2, -this.height).toPolygon();\n\n    line.translate(-1, 0);\n    line.rotate(this.globalAngle + Math.PI/2);\n    line.translate(this.globalX,this.globalY);\n\n    return line;\n  }\n\n  get width(){\n    return 10;\n  }\n\n  get height(){\n    return 120;\n  }\n\n  get pivotX() {\n    return this.width/2;\n  }\n\n  get pivotY() {\n    return 0;\n  }\n\n  get worldPos(){\n    const shipAngle = this.gun.ship.angle+Math.PI/2;\n    const shipCenterOffestX = this.x+BLOCK_SIZE/2 - this.ship.pivotX;\n    const shipCenterOffestY = this.y+BLOCK_SIZE/2 - this.ship.pivotY;\n\n    const x = this.ship.x + Math.cos(shipAngle)*(shipCenterOffestX) - Math.sin(shipAngle)*shipCenterOffestY;\n    const y = this.ship.y + Math.sin(shipAngle)*(shipCenterOffestX) + Math.cos(shipAngle)*shipCenterOffestY;\n    return [x,y];\n  }\n\n  get globalX(){\n    return this.gun.globalX;\n  }\n\n  get globalY(){\n    return this.gun.globalY;\n  }\n\n\n  get globalAngle(){\n    return this.gun.ship.globalAngle;\n  }\n\n\n  collide(collidedWith){\n    collidedWith.recieveDamage(this.damage);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_modules/beam/Beam.js\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='gun_base.svg'%3E %3Cdefs id='defs4' /%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='64.435752' inkscape:cy='50.817855' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title /%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Cpath style='fill:%23ff00ff;fill-opacity:0.4679666;fill-rule:evenodd;stroke:%23000000;stroke-width:0.95370758px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 4.9782926,965.68075 -4.64505302,86.20455 99.42199942,0 -4.73438,-86.20455 c -45.199939,-4.78915 -45.199939,-4.70797 -90.0425664,0 z' id='teamColor' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3Cpath style='fill:%23000000;fill-opacity:0.59888575;fill-rule:evenodd;stroke:%23000000;stroke-width:0.95370758px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 4.9782926,965.68075 -4.64505302,86.20455 99.42199942,0 -4.73438,-86.20455 c -45.199939,-4.78915 -45.199939,-4.70797 -90.0425664,0 z' id='teamColor-3' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/beam/gun_base.svg\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = \"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100' height='100' viewBox='0 0 100 100' id='svg2' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='gun_turret.svg'%3E %3Cdefs id='defs4' /%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0.0' inkscape:pageshadow='2' inkscape:zoom='11.2' inkscape:cx='64.435752' inkscape:cy='50.817855' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' units='px' inkscape:window-width='2560' inkscape:window-height='1377' inkscape:window-x='-8' inkscape:window-y='-8' inkscape:window-maximized='1' /%3E %3Cmetadata id='metadata7'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1' transform='translate(0,-952.36216)'%3E %3Cellipse style='opacity:1;fill:%23000000;fill-opacity:1;stroke:%23000000;stroke-width:1.45630145;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' id='path4415' cx='49.86607' cy='1020.264' rx='20.621565' ry='25.532278' /%3E %3Crect ry='4.2857318' style='opacity:1;fill:%23000000;fill-opacity:1;stroke:%23000000;stroke-width:1.71063542;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' id='rect4417' width='30.185223' height='54.024494' x='34.460957' y='959.0553' /%3E %3C/g%3E %3C/svg%3E\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/js/ship_modules/beam/gun_turret.svg\n ** module id = 31\n ** module chunks = 0\n **/","import Ship from \"./Ship\"\n\n\n\nexport default class DummyShip extends Ship {\n\n  constructor(game, x, y, angle, schematic) {\n    super(game, x, y, angle, schematic);\n\n    this._turningCCW = true;\n    this._turningCW = false;\n    this.accelerating = true;\n    this._firingPrimary = true;\n\n    this.age = Math.floor(Math.random()*1000);\n  }\n\n  tick(){\n    this.age++;\n\n    if(this.age % 128 == 0){\n      this._turningCCW = !this._turningCCW;\n    }\n    if(this.age % 200 == 0){\n      this._turningCW = !this._turningCW;\n    }\n\n    super.tick();\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/DummyShip.js\n **/","export const KEY_MAP = {\n  SHIFT: 16, //SHIFT KEY,\n  SPACE: 32, //SHIFT KEY,\n  W: 87,\n  S: 65,\n  D: 68,\n  C: 67,\n  LEFT: 37,\n  RIGHT: 39,\n  UP: 38,\n  ENTER: 13,\n  CTRL: 17,\n  NUM_0: 96\n\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Keys.js\n **/","import Ship from \"./PickableShip\"\nimport {DEGREE} from \"../Constants\"\nimport {isPointInSprite} from \"../Utils\"\n\nconst LAYERS = {\n  SHIPS:[],\n  UI:[]\n};\n\nconst PLAYER2_SCHEMATIC = [\n  \"  SGS  \",\n  \"SEWXWES\",\n  \"  G G  \"\n];\n\nvar _renderLoop;\nvar canvas;\nvar _pickedShip;\n\nexport default class ShipPicker {\n\n  constructor(canvas,schems, title) {\n    this.schems = schems;\n    this.canvas = canvas;\n    this.title = title;\n    canvas.style.cursor = \"auto\";\n    canvas.focus();\n\n    this.screen = canvas.getContext('2d');\n    this.screenWidth = canvas.getAttribute(\"width\");\n    this.screenHeight = canvas.getAttribute(\"height\");\n\n    this.init();\n\n  }\n\n  init(){\n    this.ships = [];\n    var xPos = 300;\n    var placed = 0;\n    this.schems.forEach((schem)=>{\n      this.ships.push(new Ship(this,xPos,Math.floor(placed++/4)*150+150,-90*DEGREE,schem))\n      xPos = xPos % 800;\n      xPos += 200;\n    });\n\n    this.canvas.onmousemove = this.mouseMove.bind(this);\n    this.canvas.onclick = this.click.bind(this);\n  }\n\n  click(e){\n    const x = e.offsetX;\n    const y = e.offsetY;\n    this.ships.forEach((ship)=>{\n      if(isPointInSprite(x,y,ship)){\n        this._pickedShip = ship.schematic;\n      }\n\n    });\n  }\n  mouseMove(e){\n    const x = e.offsetX;\n    const y = e.offsetY;\n    var overClickable = false;\n    this.ships.forEach((ship)=>{\n      var highlighted = isPointInSprite(x,y,ship);\n      ship.highlighted = highlighted;\n\n      overClickable = overClickable || highlighted;\n\n    });\n\n    if(overClickable){\n      this.canvas.style.cursor = \"pointer\"\n    }else{\n      this.canvas.style.cursor = \"auto\"\n    }\n\n  }\n\n  tickLayer(sprites){\n    sprites.forEach(\n      (s)=>s.tick()\n    );\n  }\n\n  tick(){\n    this.globalTime ++;\n\n    this.tickLayer(LAYERS.SHIPS);\n    this.tickLayer(LAYERS.UI);\n  }\n\n  draw(){\n    const s = this.screen;\n    s.save();\n    s.fillStyle = \"#eeeeee\";\n    s.fillRect(0,0,this.screenWidth, this.screenHeight);\n\n\n\n    s.fillStyle =\"#000000\";\n    s.textAlign = \"center\";\n    s.font = \"48px serif\";\n    s.fillText(this.title,this.screenWidth/2,60);\n\n\n    this.ships.forEach((s)=>{\n      s.draw(this.screen);\n    });\n    s.restore();\n  }\n\n  waitForPick(shipPickedCallback) {\n    if (this._pickedShip == undefined) {\n      setTimeout(()=>{this.waitForPick(shipPickedCallback)}, 100);\n    }else{\n      clearInterval(_renderLoop);\n      shipPickedCallback(this._pickedShip);\n    }\n  }\n\n  pickShips(shipPickedCallback){\n    this.run();\n    this.waitForPick(shipPickedCallback);\n  }\n\n  run(){\n    this.init();\n\n    _renderLoop = setInterval(function(){\n      this.tick();\n      this.draw();\n    }.bind(this),1000/60);\n\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_picker/ShipPicker.js\n **/","import Ship from \"../Ship\"\n\nexport default class PickableShip extends Ship {\n\n  constructor(game, x, y, angle, schematic) {\n    super(game, x, y, angle, schematic);\n  }\n\n\n  draw(screen){\n    if(this.highlighted){\n      screen.fillStyle = \"rgba(0,0,0,0.1)\";\n      screen.fillRect(this.x-this.pivotX-5,this.y-this.pivotY-5,this.width+10,this.height+10)\n    }\n\n    super.draw(screen);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/ship_picker/PickableShip.js\n **/"],"sourceRoot":""}